#include <equip.h>

string *FileTable1 = ({
	"cash",
	"/item/91/9125",
	"/item/91/9150",
	"/item/91/9160",
	"/item/91/9161",
	"/item/91/9162",
	"/item/91/9163",
	"/item/91/9164",
	"/item/91/9165",
	"/item/std/0088",
	"/item/stuff/0055",
	"/item/stuff/0056",
	"/item/stuff/0079",
	"/item/stuff/0057",
	"/item/stuff/0080",
	"/item/stuff/0062",
	"/item/stuff/0063",
	"/item/stuff/0064",
	"/item/stuff/0078",
	"/item/stuff/0079",
	"/item/stuff/0080",
	"/item/stuff/0081",
	"/item/stuff/0082",
	"/item/stuff/0083",
	"/item/stuff/0084",
	"/item/stuff/0085",
	"/item/stuff/0086",
	"/item/stuff/0087",
	"/item/final/16/1600",
	"/item/final/16/1607",
	"/item/final/16/1612",
	"/item/final/16/1605",
	"/item/final/16/1626",
	"/item/final/16/1610",
	"/item/final/16/1614",
	"/item/final/16/1609",
	"/item/stuff/0205",
	"/item/final/16/1603",
	"/item/final/16/1604",
	"/item/final/16/1608",
	
	"/item/product/65522",
	"/item/product/65523",
	"/item/product/65524",
	"/item/product/65525",
	"/item/product/65526",
	"/item/product/65527",
	"/item/product/65528",
	
	"/item/product/65529",
	"/item/product/65530",
	"/item/product/65531",	
	"/item/product/65532",
	"/item/product/65533",
	"/item/product/65534",
	"/item/product/65535",	
	
	"/item/product/65536",
	"/item/product/65537",
	"/item/product/65538",
	"/item/product/65539",
	"/item/product/65540",
	"/item/product/65541",	
	"/item/product/65542",	
	
	"/item/product/62311", 
	"/item/product/62312", 
	"/item/product/62313", 
	"/item/product/62314", 
	"/item/product/62315", 
	"/item/product/62316", 
	"/item/product/62317", 
	"/item/product/62318", 
	"/item/product/62319", 
	"/item/product/62320", 
	"/item/product/62321", 
	"/item/product/62322", 
	"/item/product/62323", 
	"/item/product/62324", 
	"/item/product/62325", 
	"/item/product/62326", 
	"/item/product/62327", 
	"/item/product/62328", 
	"/item/product/62329", 
	
	"/item/95/0104",
	"/item/95/0109",
	"/item/95/0111",
	"/item/95/0121",
	"/item/95/0131",
	"/item/95/0141",
	"/item/95/0151",
	"/item/95/0161",
	"/item/95/0202",
	"/item/95/0401",
	"/item/95/0402",
	"/item/95/0403",
	"/item/95/0404",
	"/item/95/0405",
	"/item/95/0211",
	"/item/95/0212",
	"/item/95/0316",
	"/item/95/0317",
	"/item/95/0319",
	"/item/95/0221",
	"/item/95/0231",
	"/item/95/0222",
	"/item/95/0325",
	"/item/95/0329",
	"/item/95/0241",
	"/item/95/0251",
	"/item/95/0242",
	"/item/95/0348",
	"/item/95/0349",
	"/item/95/0261",
	"/item/95/0363",
	"/item/95/0364",
	"/item/95/0365",
	"/item/95/0368",
	"/item/95/0271",
	"/item/95/0413",
	"/item/95/0414",
	"/item/95/0417",
	"/item/95/0418",
	"/item/95/0421",
	"/item/95/0422",
	"/item/95/0423",
	"/item/95/0424",
	"/item/95/0425",
	"/item/95/0281",
	"/item/95/0501",
	"/item/95/0511",
	"/item/95/0531",
	"/item/95/0591",
	
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",
	"/item/44/4488",	
	
        "/item/60/1030",
        "/item/61/1030",
        "/item/65/1030",
        "/item/66/1030",
        "/item/86/1030",
        "/item/87/1030",
        "/item/88/1030",
        "/item/60/2030",
        "/item/61/2030",
        "/item/65/2030",
        "/item/66/2030",
        "/item/86/2030",
        "/item/87/2030",
        "/item/88/2030",
        "/item/60/3030",
        "/item/61/3030",
        "/item/65/3030",
        "/item/66/3030",
        "/item/86/3030",
        "/item/87/3030",
        "/item/88/3030",
        "/item/60/4030",
        "/item/61/4030",
        "/item/65/4030",
        "/item/66/4030",
        "/item/86/4030",
        "/item/87/4030",
        "/item/88/4030",
        "/item/60/5030",
        "/item/61/5030",
        "/item/65/5030",
        "/item/66/5030",
        "/item/86/5030",
        "/item/87/5030",
        "/item/88/5030",
        "/item/60/6030",
        "/item/61/6030",
        "/item/65/6030",
        "/item/66/6030",
        "/item/86/6030",
        "/item/87/6030",
        "/item/88/6030",
        "/item/60/7030",
        "/item/61/7030",
        "/item/65/7030",
        "/item/66/7030",
        "/item/86/7030",
        "/item/87/7030",
        "/item/88/7030",
        "/item/70/1030",
        "/item/71/1030",
        "/item/72/1030",
        "/item/74/1030",
        "/item/75/1030",
        "/item/76/1030",
        "/item/77/1030",
        "/item/78/1030",
        "/item/79/1030",
	
	
	
});

string *FileTable2 = ({
	
        "/item/60/1050",
        "/item/61/1050",
        "/item/65/1050",
        "/item/66/1050",
        "/item/86/1050",
        "/item/87/1050",
        "/item/88/1050",
        "/item/60/2050",
        "/item/61/2050",
        "/item/65/2050",
        "/item/66/2050",
        "/item/86/2050",
        "/item/87/2050",
        "/item/88/2050",
        "/item/60/3050",
        "/item/61/3050",
        "/item/65/3050",
        "/item/66/3050",
        "/item/86/3050",
        "/item/87/3050",
        "/item/88/3050",
        "/item/60/4050",
        "/item/61/4050",
        "/item/65/4050",
        "/item/66/4050",
        "/item/86/4050",
        "/item/87/4050",
        "/item/88/4050",
        "/item/60/5050",
        "/item/61/5050",
        "/item/65/5050",
        "/item/66/5050",
        "/item/86/5050",
        "/item/87/5050",
        "/item/88/5050",
        "/item/60/6050",
        "/item/61/6050",
        "/item/65/6050",
        "/item/66/6050",
        "/item/86/6050",
        "/item/87/6050",
        "/item/88/6050",
        "/item/60/7050",
        "/item/61/7050",
        "/item/65/7050",
        "/item/66/7050",
        "/item/86/7050",
        "/item/87/7050",
        "/item/88/7050",
        "/item/60/1040",
        "/item/61/1040",
        "/item/65/1040",
        "/item/66/1040",
        "/item/86/1040",
        "/item/87/1040",
        "/item/88/1040",
        "/item/60/2040",
        "/item/61/2040",
        "/item/65/2040",
        "/item/66/2040",
        "/item/86/2040",
        "/item/87/2040",
        "/item/88/2040",
        "/item/60/3040",
        "/item/61/3040",
        "/item/65/3040",
        "/item/66/3040",
        "/item/86/3040",
        "/item/87/3040",
        "/item/88/3040",
        "/item/60/4040",
        "/item/61/4040",
        "/item/65/4040",
        "/item/66/4040",
        "/item/86/4040",
        "/item/87/4040",
        "/item/88/4040",
        "/item/60/5040",
        "/item/61/5040",
        "/item/65/5040",
        "/item/66/5040",
        "/item/86/5040",
        "/item/87/5040",
        "/item/88/5040",
        "/item/60/6040",
        "/item/61/6040",
        "/item/65/6040",
        "/item/66/6040",
        "/item/86/6040",
        "/item/87/6040",
        "/item/88/6040",
        "/item/60/7040",
        "/item/61/7040",
        "/item/65/7040",
        "/item/66/7040",
        "/item/86/7040",
        "/item/87/7040",
        "/item/88/7040",
        "/item/70/1040",
        "/item/71/1040",
        "/item/72/1040",
        "/item/74/1040",
        "/item/75/1040",
        "/item/76/1040",
        "/item/77/1040",
        "/item/78/1040",
        "/item/79/1040",
        "/item/70/1050",
        "/item/71/1050",
        "/item/72/1050",
        "/item/74/1050",
        "/item/76/1050",
        "/item/75/1050",
        "/item/77/1050",
        "/item/78/1050",
        "/item/79/1050",
});

string *FileTable3 = ({

	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",
	"/item/44/4489",

	"cash",

	"/item/mop/9512",
	"/item/mop/9522",
	"/item/mop/9532",
//	"/item/mop/9542",
	"/item/mop/9552",
	"/item/mop/9562",
//	"/item/std/9571",
//	"/item/std/9581",

});	

object * get_item()
{
	int i, rand, size;
	string file;
	string * line;
	object * all, item;
	all = ({ });	
	rand = random(sizeof(FileTable3));
	file = FileTable3[rand];
	if (file=="cash")
	{
		item = new ("/item/std/0001");
		item->set_value(5000);
	}
	else
		item = new (file);
	all += ({ item });
	line = copy(FileTable2);
	for (i=0;i<2;i++)
	{
		size = sizeof(line);
		file = line[random(size)];
		item = new (file);
		all += ({ item });
		line -= ({ file });
		if (item->get_equip_type()>0 && item->get_equip_type()!=HAND_TYPE)
		{
			"/sys/item/equip"->init_equip_prop_3(item);
			"/sys/item/equip"->init_equip_prop_5(item);
			item->set_item_color(2);
			item->set_hide(0);
			item->set("forge", "1");
		}		
	}
	line = copy(FileTable1);
	line += FileTable2;
	for (i=0;i<5;i++)
	{
		size = sizeof(line);
		file = line[random(size)];
		if (file=="cash")
		{
			item = new ("/item/std/0001");
			item->set_value(5000);
		}	
		else	
		{		
			item = new (file);
			if (item->get_max_combined()>1) 
			{
				if (item->get_stuff_type()>0)
					item->set_amount(5);
				else
					item->set_amount(2);
			}
			else
			if (item->get_equip_type()>0 && item->get_equip_type()!=HAND_TYPE)
			{
				"/sys/item/equip"->init_equip_prop_1(item);
				item->set_hide(0);
			}			
		}
		all += ({ item });
		line -= ({ file });
	}	
	return all;
}

void check_item()
{
	int i, size;
	size = sizeof(FileTable1);
	for (i = 0;i<size;i++)
	{
		if (FileTable1[i]=="cash") continue;
		if(!load_object(FileTable1[i]))
		{
			log_file("test.dat", FileTable1[i]+" error\n");
		}
	}
	size = sizeof(FileTable2);
	for (i = 0;i<size;i++)
	{
		if (FileTable2[i]=="cash") continue;
		if(!load_object(FileTable2[i]))
		{
			log_file("test.dat", FileTable2[i]+" error\n");
		}
	}
	size = sizeof(FileTable3);
	for (i = 0;i<size;i++)
	{
		if (FileTable3[i]=="cash") continue;
		if(!load_object(FileTable3[i]))
		{
			log_file("test.dat", FileTable3[i]+" error\n");
		}
	}		
}		